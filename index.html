<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Boolzapp con Vue</title>

        <!--Css-->
        <link rel="stylesheet" href="css/style.css">
        <!--Font Awesome-->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
        <!--JS-->
        <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
        <!--axios-->
        
    </head>
    <body>

        <main id="app">

            <div class="wapp-cont">

                <div class="container-app">

                    <section class="aside">

                        <div class="header-aside">

                            <div class="info-account">
                                
                                <div>

                                    <img src="img/avatar_5.jpg" alt="img-account">

                                    <span>
                                        Alessandro
                                    </span>

                                </div>

                                <div class="icon-info-account">

                                    <i class="fa-solid fa-circle-notch"></i>
                                    <i class="fa-solid fa-message"></i>
                                    <i class="fa-solid fa-ellipsis-vertical"></i>

                                </div>

                            </div>

                            <div class="notification-bell">

                                <div class="slash-bell">

                                <i class="fa-solid fa-bell-slash"></i>

                                </div>
                                
                                <div class="notification-bell-text">

                                    <p>
                                        Ricevi notifiche di nuovi messaggi
                                    </p>

                                    <p class="underline-text">
                                        Attiva notifiche deskstop
                                    </p>

                                </div>

                            </div>

                            <div class="input-section">

                            <input type="text" placeholder="Cerca o inizia una nuova chat">
                            <i class="fa-solid fa-magnifying-glass"></i>

                            </div>

                        </div>

                        <div class="main-aside">

                            <div class="contact"
                            v-for="(singleContact, index) in contacts" 
                            @click="clickedContact(index)"
                            :class="index == count ? 'clicked': ''">

                                <div class="contact-info">

                                    <img :src="singleContact.avatar" :alt="singleContact.name">

                                    <div class="contact-text">

                                        <p>
                                            {{singleContact.name}}
                                        </p>

                                        <p id="ultimate-sent-message">
                                            Ultimo messaggio inviato
                                        </p>

                                    </div>

                                </div>

                                <div class="last-action-time">

                                    <span>
                                        12:00
                                    </span>

                                </div>

                            </div>

                        </div>

                    </section>

                    <section class="right-container">

                        <div class="header-right-section">

                            <div class="info-writer-account">

                                <div>

                                    <img :src="replaceAvatar(i)" alt="img-account">
                                    
                                </div>

                                <div class="header-right-section-text">

                                    <p>
                                        {{replaceName(index)}}
                                    </p>

                                    <p class="ultimate-access-style">
                                        Ultimo accesso oggi alle 12:00
                                    </p>

                                </div>

                            </div>

                            <div class="icon-right-section">

                                <i class="fa-solid fa-magnifying-glass"></i>
                                <i class="fa-solid fa-paperclip"></i>
                                <i class="fa-solid fa-ellipsis-vertical"></i>

                            </div>

                        </div>

                        <div class="main-right-section">

                            <main class="chat-section" v-for="msg in contacts[count].messages">

                                <div v-if="msg.status === 'sent'" class="message-right">

                                    <div class="sent">

                                        {{msg.message}}

                                        <span class="sent-message-time">
                                            {{formatTime(msg.date) }}
                                        </span>

                                    </div>

                                </div>

                                <div v-else class="message-left">

                                    <div class="recived">

                                        {{msg.message}}

                                        <span class="recived-message-time">

                                            {{formatTime(msg.date) }}

                                        </span>

                                    </div>

                                </div>
                                
                            </main>

                        </div>

                        <footer class="footer-right-section">

                            <div class="footer-emoji-menu">

                                <i class="fa-regular fa-face-smile"></i>

                            </div>

                            <div class="input-section">

                                <input 
                                @keyup.enter="addNewMessage()"
                                v-model="newMessage"
                                type="text" 
                                placeholder="scrivi un messaggio">

                            </div>

                            <div class="footer-emoji-menu">

                                <i class="fa-solid fa-microphone"></i>

                            </div>

                        </footer>

                    </section>

                </div>

            </div>

        </main>

        <script src="js/script.js" type="text/javascript"></script>  
    </body>
</html>